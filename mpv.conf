#### General
profile=high-quality
hwdec=auto-safe
gpu-api=d3d11
vo=gpu-next
cache-secs=100


# Mapping
dither-depth=10
target-colorspace-hint=auto
#tone-mapping=spline
#gamut-mapping-mode=perceptual


# Player
cursor-autohide=250
keep-open=yes
force-window=yes
reset-on-next-file=profile          #,sid,aid
msg-module
msg-color
keepaspect
autofit-larger=100%x85%
force-window-position=yes
autocreate-playlist=same


# Watch Later
#save-position-on-quit
watch-later-directory="C:\Users\Youss\AppData\Roaming\mpv_watch_later"
watch-later-options=start

#### OSD/OSC
osc=no
#border=no
title=${filename} - [${playback-time/full} / ${duration}] (${percent-pos}%) - frame: [${estimated-frame-number} / ${estimated-frame-count}] - mpv media player
osd-font="Noto Sans"
osd-font-size=30
#osd-blur=0.2
#osd-bold=yes
#osd-border-size=3.2


#### Priority
slang=en,eng,English,english,enm
alang=ja,jp,jpn,Japanese,japanese,en,eng
#subs-with-matching-audio=no


# Streaming
hls-bitrate=max
ytdl-raw-options=ignore-errors=,extractor-args="youtube:player_client=android:ios"
ytdl-format=bestvideo+bestaudio
load-unsafe-playlists=yes



# Scaling
scale=ewa_lanczos
scale-antiring=0.4
cscale=ewa_lanczos
cscale-antiring=0.4
dscale=gaussian
dscale-param1=0.6


# Deband
deband=no
deband-iterations=4
deband-threshold=48
deband-range=16
deband-grain=64


#### Audio
audio-file-auto=fuzzy
audio-pitch-correction=yes
volume=80
volume-max=150
audio-display=embedded-first


## Subs
# Settings for text-based subtitle files (ASS, SRT)
sub-ass-override=no # Toggle with 'k'
#sub-ass-style-overrides=Kerning=yes,playresx=1920,playresy=1080
sub-font="LTFinnegan Medium"
sub-font-size=48
sub-color="#FFFFFF"
sub-border-size=2.4
sub-border-color="#FF000000"
sub-shadow-color="#A0000000"
sub-shadow-offset=0.75
sub-ass
blend-subtitles=video

# Settings for image-based subtitle files (PGS, SUP)
sub-gray=yes
sub-gauss=0.05

# Other general settings
demuxer-mkv-subtitle-preroll=yes
sub-ass-use-video-data=all
sub-fix-timing=no



#### Screenshots PNG
screenshot-format=png
screenshot-high-bit-depth=no
screenshot-tag-colorspace=yes
screenshot-png-compression=9
screenshot-directory="C:\Users\Youss\Pictures\mpv Screenshots"
screenshot-template="%F_%P_%n"



#### Custom Profiles
[simulcast]
profile-cond=string.match(p.filename, "HorribleSubs")~=nil or string.match(p.filename, "Erai%-raws")~=nil or string.match(p.filename, "SubsPlease")~=nil or string.match(p.filename, "DragsterPS")~=nil or string.match(p.filename, "%-KS%-")~=nil or string.match(p.filename, "Mr.Lahey")~=nil
sub-ass-override=force
sub-fix-timing=yes
profile-restore=copy-equal

# Proper Downmix
[downmix]
profile-cond=p["audio-params/channels"]~=nil and p["audio-params/channels"]~="empty" and p["audio-params/channels"]~="mono" and p["audio-params/channels"]~="1.0" and p["audio-params/channels"]~="stereo" and p["audio-params/channels"]~="2.0"
af-add=@downmix:lavfi="pan=stereo|FL < 0.5*FC + 0.3*FLC + 0.3*FL + 0.3*BL + 0.3*SL + 0.5*LFE | FR < 0.5*FC + 0.3*FRC + 0.3*FR + 0.3*BR + 0.3*SR + 0.5*LFE"
af-add=@downmix2:lavfi="acompressor=10"
profile-restore=copy-equal